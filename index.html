<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Portal Dra. Alba Patricia</title>
    </head>
<body>

    <input type="text" id="p-nombre" placeholder="Nombre">
    <input type="text" id="p-tel" placeholder="WhatsApp">
    <input type="date" id="p-fecha">
    <textarea id="p-motivo" placeholder="Motivo"></textarea>
    <button onclick="enviarCita()">Confirmar Solicitud</button>

    <script>
        // üóùÔ∏è CONFIGURACI√ìN DEL MOTOR K.B (Tus llaves actuales)
        const SUPABASE_URL = "https://ypxtceahtjxcdaefskxe.supabase.co"; //
        const SUPABASE_KEY = "sb_publishable_C9j37Nup330TMa-jb3QC4A_z7Ghz..."; //

        async function enviarCita() {
            const datos = {
                nombre: document.getElementById('p-nombre').value,
                telefono: document.getElementById('p-tel').value,
                fecha: document.getElementById('p-fecha').value,
                motivo: document.getElementById('p-motivo').value,
                estado: 'Pendiente'
            };

            try {
                // Conexi√≥n directa a la tabla 'Citas'
                const response = await fetch(`${SUPABASE_URL}/rest/v1/Citas`, {
                    method: 'POST',
                    headers: {
                        'apikey': SUPABASE_KEY,
                        'Authorization': `Bearer ${SUPABASE_KEY}`,
                        'Content-Type': 'application/json',
                        'Prefer': 'return=minimal'
                    },
                    body: JSON.stringify(datos)
                });

                if (response.ok) {
                    alert("¬°Motor K.B: Cita sincronizada!");
                    location.reload();
                }
            } catch (e) {
                alert("Error de conexi√≥n con el Motor Central");
            }
        }
    </script>
</body>
</html>






